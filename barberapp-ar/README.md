# BarberApp AR

**Tu Lugar, Tu Estilo**

Plataforma digital para gestiÃ³n de turnos en barberÃ­as y peluquerÃ­as de Argentina. Conecta clientes con profesionales del rubro de forma simple y eficiente.

## CaracterÃ­sticas Principales

### Para Clientes
- BÃºsqueda y exploraciÃ³n de negocios
- Reserva de turnos online en tiempo real
- Pago anticipado con Mercado Pago o en el local
- GestiÃ³n de turnos personales
- Notificaciones de confirmaciÃ³n

### Para Propietarios
- Panel de administraciÃ³n completo
- GestiÃ³n de mÃºltiples negocios
- CreaciÃ³n y ediciÃ³n de servicios
- VisualizaciÃ³n y gestiÃ³n de turnos
- Dashboard con estadÃ­sticas
- Control de pagos y balances

## TecnologÃ­as

- **Frontend**: HTML5, CSS3, JavaScript (Vanilla)
- **Backend**: Node.js + Express
- **Base de datos**: Supabase (PostgreSQL)
- **AutenticaciÃ³n**: Supabase Auth
- **Pagos**: Mercado Pago
- **Hosting**: Vercel / Netlify / Render (compatible)

## Requisitos Previos

- Node.js 18 o superior
- Cuenta de Supabase (gratuita)
- Cuenta de Mercado Pago Developers (gratuita)
- Git

## InstalaciÃ³n

### 1. Clonar el repositorio

\`\`\`bash
git clone https://github.com/tu-usuario/barberapp-ar.git
cd barberapp-ar
\`\`\`

### 2. Instalar dependencias

\`\`\`bash
npm install
\`\`\`

### 3. Configurar variables de entorno

Copia el archivo de ejemplo y completa las variables:

\`\`\`bash
cp .env.example .env
\`\`\`

Edita `.env` con tus credenciales:

\`\`\`env
# Supabase
SUPABASE_URL=https://tu-proyecto.supabase.co
SUPABASE_ANON_KEY=tu_clave_anonima_aqui

# Mercado Pago
MERCADOPAGO_ACCESS_TOKEN=TEST-tu_token_de_prueba_aqui

# Server
PORT=3000
NODE_ENV=development
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:3000
\`\`\`

### 4. Configurar Supabase

#### Crear proyecto en Supabase

1. Ve a [https://supabase.com](https://supabase.com)
2. Crea una cuenta o inicia sesiÃ³n
3. Crea un nuevo proyecto
4. Copia la URL y la clave anÃ³nima a tu `.env`

#### Ejecutar scripts SQL

En el SQL Editor de Supabase, ejecuta los scripts en orden:

1. `scripts/01-create-tables.sql` - Crea las tablas
2. `scripts/02-enable-rls.sql` - Configura seguridad
3. `scripts/03-seed-data.sql` - Datos de prueba (opcional)

### 5. Configurar Mercado Pago

Sigue la guÃ­a detallada en [MERCADOPAGO_SETUP.md](./MERCADOPAGO_SETUP.md)

Resumen rÃ¡pido:
1. Crea cuenta en [Mercado Pago Developers](https://www.mercadopago.com.ar/developers)
2. Crea una aplicaciÃ³n
3. ObtÃ©n el Access Token de prueba
4. AgrÃ©galo a tu `.env`

### 6. Iniciar el servidor

\`\`\`bash
npm run dev
\`\`\`

La aplicaciÃ³n estarÃ¡ disponible en `http://localhost:3000`

## Estructura del Proyecto

\`\`\`
barberapp-ar/
â”œâ”€â”€ public/                 # Frontend (archivos estÃ¡ticos)
â”‚   â”œâ”€â”€ index.html         # PÃ¡gina principal
â”‚   â”œâ”€â”€ login.html         # Inicio de sesiÃ³n
â”‚   â”œâ”€â”€ register.html      # Registro
â”‚   â”œâ”€â”€ negocios.html      # Lista de negocios
â”‚   â”œâ”€â”€ negocio.html       # Detalle de negocio
â”‚   â”œâ”€â”€ mis-turnos.html    # Turnos del cliente
â”‚   â”œâ”€â”€ pago.html          # Procesamiento de pago
â”‚   â”œâ”€â”€ admin/             # Panel de administraciÃ³n
â”‚   â”‚   â”œâ”€â”€ dashboard.html
â”‚   â”‚   â”œâ”€â”€ negocios.html
â”‚   â”‚   â”œâ”€â”€ servicios.html
â”‚   â”‚   â””â”€â”€ turnos.html
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ styles.css     # Estilos globales
â”‚   â””â”€â”€ js/
â”‚       â””â”€â”€ auth.js        # Utilidades de autenticaciÃ³n
â”œâ”€â”€ server/                # Backend Node.js
â”‚   â”œâ”€â”€ index.js          # Servidor Express
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ supabase.js   # ConfiguraciÃ³n de Supabase
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â””â”€â”€ auth.js       # Middlewares de autenticaciÃ³n
â”‚   â””â”€â”€ routes/           # Rutas de la API
â”‚       â”œâ”€â”€ auth.js
â”‚       â”œâ”€â”€ negocios.js
â”‚       â”œâ”€â”€ servicios.js
â”‚       â”œâ”€â”€ turnos.js
â”‚       â”œâ”€â”€ promociones.js
â”‚       â””â”€â”€ pagos.js
â”œâ”€â”€ scripts/              # Scripts SQL para Supabase
â”‚   â”œâ”€â”€ 01-create-tables.sql
â”‚   â”œâ”€â”€ 02-enable-rls.sql
â”‚   â””â”€â”€ 03-seed-data.sql
â”œâ”€â”€ .env.example          # Ejemplo de variables de entorno
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package.json
â”œâ”€â”€ README.md
â””â”€â”€ MERCADOPAGO_SETUP.md
\`\`\`

## API Endpoints

### AutenticaciÃ³n

\`\`\`
POST   /api/auth/register    # Registrar usuario
POST   /api/auth/login       # Iniciar sesiÃ³n
POST   /api/auth/logout      # Cerrar sesiÃ³n
\`\`\`

### Negocios

\`\`\`
GET    /api/negocios                    # Listar negocios activos
GET    /api/negocios/:id                # Obtener negocio
POST   /api/negocios                    # Crear negocio (propietario)
PUT    /api/negocios/:id                # Actualizar negocio (propietario)
GET    /api/negocios/mis-negocios/lista # Negocios del propietario
\`\`\`

### Servicios

\`\`\`
GET    /api/servicios/negocio/:negocioId  # Servicios de un negocio
POST   /api/servicios                     # Crear servicio (propietario)
PUT    /api/servicios/:id                 # Actualizar servicio (propietario)
DELETE /api/servicios/:id                 # Eliminar servicio (propietario)
\`\`\`

### Turnos

\`\`\`
GET    /api/turnos/mis-turnos           # Turnos del cliente
GET    /api/turnos/negocio/:negocioId   # Turnos de un negocio (propietario)
POST   /api/turnos                      # Crear turno
PUT    /api/turnos/:id                  # Actualizar turno
DELETE /api/turnos/:id                  # Cancelar turno
\`\`\`

### Pagos

\`\`\`
POST   /api/pagos/crear-preferencia  # Crear preferencia de Mercado Pago
POST   /api/pagos/webhook            # Webhook de Mercado Pago
\`\`\`

## Despliegue

### Vercel (Recomendado)

1. Instala Vercel CLI:
\`\`\`bash
npm install -g vercel
\`\`\`

2. Despliega:
\`\`\`bash
vercel
\`\`\`

3. Configura las variables de entorno en el dashboard de Vercel

### Render

1. Crea una cuenta en [Render](https://render.com)
2. Conecta tu repositorio de GitHub
3. Crea un nuevo Web Service
4. Configura las variables de entorno
5. Despliega

### Netlify

1. Crea una cuenta en [Netlify](https://netlify.com)
2. Conecta tu repositorio de GitHub
3. Configura el build command: `npm install`
4. Configura las variables de entorno
5. Despliega

## Usuarios de Prueba

Para probar la aplicaciÃ³n, puedes crear dos tipos de usuarios:

### Cliente
- Registrarse sin marcar "Soy propietario"
- Puede buscar negocios y reservar turnos

### Propietario
- Registrarse marcando "Soy propietario"
- Puede crear negocios, servicios y gestionar turnos

## Seguridad

- AutenticaciÃ³n mediante JWT (Supabase Auth)
- Row Level Security (RLS) en todas las tablas
- ValidaciÃ³n de permisos en el backend
- ProtecciÃ³n contra SQL injection
- CORS configurado correctamente
- Variables de entorno para datos sensibles

## Contribuir

1. Fork el proyecto
2. Crea una rama para tu feature (`git checkout -b feature/nueva-funcionalidad`)
3. Commit tus cambios (`git commit -m 'Agregar nueva funcionalidad'`)
4. Push a la rama (`git push origin feature/nueva-funcionalidad`)
5. Abre un Pull Request

## Roadmap

- [ ] Notificaciones por email
- [ ] Notificaciones push
- [ ] Sistema de reseÃ±as y calificaciones
- [ ] Programa de fidelizaciÃ³n
- [ ] AplicaciÃ³n mÃ³vil nativa
- [ ] IntegraciÃ³n con Google Calendar
- [ ] Sistema de recordatorios automÃ¡ticos
- [ ] Reportes y analytics avanzados

## Licencia

MIT License - ver [LICENSE](LICENSE) para mÃ¡s detalles

## Autores

- Mauro Astudillo
- Stefano Ferro
- Giuliano Moro

## Contacto

Para consultas o soporte:
- Email: contacto@barberapp.com.ar
- GitHub: [https://github.com/tu-usuario/barberapp-ar](https://github.com/tu-usuario/barberapp-ar)

## Agradecimientos

- Supabase por la infraestructura de base de datos
- Mercado Pago por la pasarela de pagos
- Comunidad de desarrolladores de Argentina

---

Hecho con dedicaciÃ³n para digitalizar las barberÃ­as y peluquerÃ­as de Argentina ðŸ‡¦ðŸ‡·
